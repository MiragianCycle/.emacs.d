;; -*- coding: utf-8; lexical-binding: t -*-

(defun enzuru-fitness-monthly-deficit
    (daily-calories daily-training-hours days-home days-outside)
  (let* ((rmr-home 2175)
         (rmr-outside 2615)
         (burned-per-hour 400)
         (days-total (+ days-home days-outside)))
    (/ (- (* days-total daily-calories)
          (* days-total daily-training-hours burned-per-hour)
          (+ (* days-home rmr-home)
             (* days-outside rmr-outside)))
       3500.0)))

(defun enzuru-fitness-test-algo ()
  (if (eql (round (enzuru-fitness-monthly-deficit 2645 1.1 31 0)) 0)
      (message "January 2023 passes")
    (message "January 2023 fails"))
  (if (eql (round (enzuru-fitness-monthly-deficit 2679 1.14 28 0)) 0)
      (message "February 2023 passes")
    (message "February 2023 fails"))
  (if (eql (round (enzuru-fitness-monthly-deficit 2742 1.39 31 0)) -1)
      (message "March 2023 passes")
    (message "March 2023 fails"))
  (if (eql (round (enzuru-fitness-monthly-deficit 2567 1.267 30 0)) -1)
      (message "April 2023 passes")
    (message "April 2023 fails"))
  (if (eql (round (enzuru-fitness-monthly-deficit 2581 1.42 31 0)) -1)
      (message "May 2023 passes")
    (message "May 2023 fails"))
  (if (eql (round (enzuru-fitness-monthly-deficit 2800 1.167 20 11)) 0)
      (message "June 2023 passes")
    (message "June 2023 fails"))
  (if (eql (round (enzuru-fitness-monthly-deficit 2567 0.867 24 7)) 0)
      (message "July 2023 passes")
    (message "July 2023 fails"))
  (if (eql (round (enzuru-fitness-monthly-deficit 2567 1.2 19 12)) -2)
      (message "August 2023 passes")
    (message "August 2023 fails")))

(defun enzuru-fitness-vo2-max (ftp kilos)
  (+ (/ (* 10.8 ftp) kilos) 7))

(provide 'enzuru-fitness)
